(this["webpackJsonpquick-utils"]=this["webpackJsonpquick-utils"]||[]).push([[0],{103:function(e,t,a){e.exports=a(197)},108:function(e,t,a){},197:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(30),l=a.n(c),o=(a(108),a(9)),s=a(17),i=a.n(s),u=(a(38),"localhost:4000"),d=a(198),f=Object(n.createContext)(),p=function(){return Object(n.useContext)(f)},m=function(){var e=p(),t=Object(o.a)(e,2),a=t[0].displayMsg,c=t[1],l=Object(n.useState)(!1),s=Object(o.a)(l,2),i=s[0],u=s[1],f=Object(o.a)(a,2),m=f[0],b=f[1];return Object(n.useEffect)((function(){m&&b&&(c({type:"displayMsg",value:[!1,b]}),u(!0),setTimeout((function(){u(!1)}),4e3))}),[m,b]),r.a.createElement(d.a,{in:i,tag:"h5",className:"mt-3",style:{justifyContent:"center",zIndex:2}},b)},b=a(33),h=a.n(b),g=a(31),v=a(48);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach((function(t){Object(g.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a(135).config();var E=function(){var e=p(),t=Object(o.a)(e,2),a=t[0].userInfo,c=t[1],l=function(){var e=Object(v.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"production",e.next=5;break;case 5:return e.next=7,i.a.get("/user/name");case 7:n=e.sent,t=n.name;case 9:c({type:"changeUserInfo",userInfo:O({},a,{name:t})});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){l()}),[]),r.a.createElement("header",{className:"App-header"},"Welcome to QuickUtils\u2122, ",a.name,"!")},k=a(19),j=a(25),w=a(94),P=u,D=function(e){var t=function(){var t=Object(v.a)(h.a.mark((function t(a){var n,r,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.coords.latitude,r=a.coords.longitude,c="https://api.openweathermap.org/data/2.5/forecast?lat=".concat(n,"&lon=").concat(r,"&appid=").concat("d15c1e96091187473b96203daebc8c2f"),t.next=5,i.a.get(c).then((function(t){var a=t.data;e({type:"updateWeather",weather:a}),console.log(a)})).catch((function(t){e({type:"displayMsg",value:[!0,"Failed to fetch weather data."]})}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();navigator.geolocation.getCurrentPosition(t,(function(){console.log("Cannot get geolocation. Check https protocol")}))},C=function(e){i.a.get("http://".concat(P,"/users/").concat("John","/events")).then((function(t){e({type:"updateEvents",events:t.data.events})})).catch((function(t){e({type:"displayMsg",value:[!0,"Failed to fetch calendar data."]})}))},x=function(e){i.a.get("http://".concat("localhost:4000","/tasks/get-tasks")).then((function(t){var a=t.data;e({type:"updateTasks",tasks:a})})).catch((function(t){e({type:"displayMsg",value:[!0,"Failed to fetch tasks."]})}))},T=function(){var e=p(),t=Object(o.a)(e,2);t[0].weather,t[1];return r.a.createElement("div",null,"placeholder")},N=function(){var e=p(),t=Object(o.a)(e,2),a=(t[0].weather,t[1]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{onClick:D.bind(null,a)},"Refresh"),r.a.createElement(T,null))},S=a(95),I=a.n(S),M=(a(82),a(83),function(e){var t=e.date,a=e.events,n=e.handleClick,c=a||[],l={sport:"blue",social:"pink",outdoors:"green"};return r.a.createElement("div",{className:"Calendar-date-column"},r.a.createElement("div",{className:"Calendar-details"},"The date and time is: "),r.a.createElement("div",{className:"Calendar-details"},r.a.createElement("h3",null,t.toDateString())),r.a.createElement("div",{className:"Calendar-details"},"Your events",r.a.createElement(w.a,{onClick:n,className:"refresh-button"},"Refresh")),c.map((function(e){var t=l[e.eventType.toLowerCase()];return r.a.createElement("div",{className:"Calendar-events",key:e.id,style:{backgroundColor:t}},e.eventName)})))}),F=function(){var e=Object(n.useState)(),t=Object(o.a)(e,2),a=t[0],c=t[1],l=p(),s=Object(o.a)(l,2),i=s[0],u=i.datePicked,d=i.events,f=s[1],m=function(e,t){e&&c(e.filter((function(e){var a=e.day,n=e.month;return a===t.getDate()&&n===t.getMonth()})))};Object(n.useEffect)((function(){C(f)}),[]),Object(n.useEffect)((function(){m(d,u)}),[d]);return r.a.createElement("div",{className:"Calendar"},r.a.createElement(I.a,{value:u,onChange:function(e){f({type:"changeDate",newDate:e}),m(d,e)},minDate:new Date(2001,0,1),maxDate:new Date(2050,11,31),className:["Calendar-component"]}),r.a.createElement(M,{date:u,events:a,handleClick:C.bind(null,f)}))},R=a(51),G=a(199),J=a(96);function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var W=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(a,!0).forEach((function(t){Object(g.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({userSelect:"none",padding:16,margin:"0 0 ".concat(8,"px 0"),borderRadius:"5px",background:e?"lightgreen":"grey"},t)},q=function(){var e=p(),t=Object(o.a)(e,2),a=t[0].tasks,c=t[1],l=Object(n.useState)(""),s=Object(o.a)(l,2),u=s[0],d=s[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{style:{display:"flex"}},r.a.createElement(G.a,{placeholder:"New task...",style:{margin:"20px 10px 20px 0"},onChange:function(e){d(e.target.value)},value:u}),r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(e){var t=u;e.preventDefault();!function(e,t){var a=t.data;i.a.post("http://".concat("localhost:4000","/tasks/submit-task"),{data:a}).then((function(t){x(e)})).catch((function(t){e({type:"displayMsg",value:[!0,"Failed to submit task."]})}))}(c,{data:{tasks:a,taskName:t,date:""}}),d("")},style:{margin:"20px 0"},disabled:!u},"Submit")),r.a.createElement(R.a,{onDragEnd:function(e){if(e.destination){var t=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),c=Object(o.a)(r,1)[0];return n.splice(a,0,c),n}(a,e.source.index,e.destination.index);t.forEach((function(e,t){e.order=t})),function(e,t){var a=t.reorderedTasks;e({type:"updateTasks",tasks:a}),i.a.patch("http://".concat("localhost:4000","/tasks/reorder-tasks/"),{tasks:a})}(c,{reorderedTasks:t})}}},r.a.createElement(R.c,{droppableId:"droppable"},(function(e,t){return r.a.createElement("div",Object.assign({},e.droppableProps,{ref:e.innerRef,style:(n=t.isDraggingOver,{background:n?"lightblue":"lightgrey",padding:8,borderRadius:"5px"})}),a.map((function(e,t){return r.a.createElement(R.b,{key:e._id,draggableId:e._id,index:t},(function(t,n){return r.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps,{style:W(n.isDragging,t.draggableProps.style)}),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",padding:"0 100px"}},r.a.createElement("div",null,e.taskName),r.a.createElement("div",null,r.a.createElement(J.a,{icon:"times",onClick:function(t){t.preventDefault(),function(e,t){var a=t.tasks,n=t.taskToDelete;i.a.patch("http://".concat("localhost:4000","/tasks/delete-task/"),{tasks:a,taskToDelete:n}).then((function(t){x(e)})).catch((function(t){e({type:"displayMsg",value:[!0,"Failed to delete task."]})}))}(c,{tasks:a,taskToDelete:e})}}))))}))})),e.placeholder);var n}))))},A=function(){var e=p(),t=Object(o.a)(e,2),a=t[0].theme,c=t[1];Object(n.useEffect)((function(){var e=document.querySelector("body"),t=window.getComputedStyle(e).backgroundColor;c("rgb(40, 44, 52)"===t?{type:"changeTheme",newTheme:"dark"}:{type:"changeTheme",newTheme:"light"})}),[]);return r.a.createElement(w.a,{onClick:function(){var e="dark"===a?"rgb(194, 214, 255)":"rgb(40, 44, 52)",t="dark"===a?"light":"dark";document.body.style.backgroundColor=e,c({type:"changeTheme",newTheme:t})},className:"theme-toggle"},"dark"===a?"Switch to light theme":"Switch to dark theme")},H=function(){return Object(n.useEffect)((function(){}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(A,null))},_=["weather","calendar","tasklist","preferences"],L=(a(194),function(){var e=Object(j.d)(),t=Object(j.e)(),a=_.indexOf(t.pathname.slice(1));return r.a.createElement(k.d,{onSelect:function(t){e.push("/".concat(_[t]))},selectedIndex:a},r.a.createElement(k.b,null,r.a.createElement(k.a,null,"Weather"),r.a.createElement(k.a,null,"Calendar"),r.a.createElement(k.a,null,"Task List"),r.a.createElement(k.a,null,"Preferences")),r.a.createElement(k.c,null,r.a.createElement(N,null)),r.a.createElement(k.c,null,r.a.createElement(F,null)),r.a.createElement(k.c,null,r.a.createElement(q,null)),r.a.createElement(k.c,null,r.a.createElement(H,null)))}),Q=a(200),z=a(201),B=a(202),Y=a(203),K=a(204),V=a(205),X=a(206),Z=a(210),$=a(207),ee=a(208),te=a(209),ae=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(j.d)();return r.a.createElement(Q.a,{color:"light",light:!0,expand:"md"},r.a.createElement(z.a,{onClick:function(e){e.preventDefault(),l.push("/")},href:"/"},"QuickUtils"),r.a.createElement(B.a,{onClick:function(){return c(!a)}}),r.a.createElement(Y.a,{isOpen:a,navbar:!0},r.a.createElement(K.a,{className:"ml-auto",navbar:!0},r.a.createElement(V.a,null,r.a.createElement(X.a,{target:"_blank",href:"https://github.com/reactstrap/reactstrap"},"reactstrap GitHub")),r.a.createElement(Z.a,{nav:!0,inNavbar:!0},r.a.createElement($.a,{nav:!0,caret:!0},"Sign in"),r.a.createElement(ee.a,{right:!0},r.a.createElement(te.a,{href:"/auth/google"},"Google"),r.a.createElement(te.a,{href:"/auth/github"},"Github"),r.a.createElement(te.a,{divider:!0}),r.a.createElement(te.a,{href:"/"},"Home"))))))},ne=a(47),re=a(35),ce=a(63);re.b.add(ce.a,ce.b);var le=function(){var e=p(),t=Object(o.a)(e,2),a=t[0],c=a.loggedIn,l=a.events,s=a.tasks,i=a.theme,u=t[1],d={loggedIn:c,events:l,tasks:s,theme:i};return Object(n.useEffect)((function(){D(u),C(u),x(u)}),[]),Object(n.useEffect)((function(){}),[JSON.stringify(d)]),r.a.createElement(ne.a,null,r.a.createElement(ae,null),r.a.createElement(m,null),r.a.createElement("div",{className:"App"},r.a.createElement(E,null),r.a.createElement(L,null)))};function oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oe(a,!0).forEach((function(t){Object(g.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ie={changeUserInfo:["userInfo","userInfo"],switchTab:["selectedTab","selectedTab"],displayMsg:["displayMsg","value"],updateWeather:["weather","weather"],updateEvents:["events","events"],changeDate:["datePicked","newDate"],updateTasks:["tasks","tasks"],changeTheme:["theme","newTheme"]},ue={displayMsg:[!1,"No messages to display."],msg:"No messages.",userInfo:{name:"Guest"},selectedTab:_[0],weather:null,datePicked:new Date,loggedIn:!1,events:[],tasks:[],theme:"dark"};l.a.render(r.a.createElement((function(e){var t=e.reducer,a=e.initialState,c=e.children;return r.a.createElement(f.Provider,{value:Object(n.useReducer)(t,a)},c)}),{initialState:ue,reducer:function(e,t){if(function(){if("updateTasks"===t.type){var a=t.tasks.sort((function(e,t){return e.order<t.order}));se({},e,{tasks:a})}}(),t.type in ie){var a=se({},e),n=Object(o.a)(ie[t.type],2),r=n[0],c=n[1];if(r in a&&c in t)return a[r]=t[c],a}return e}},r.a.createElement(le,null)),document.getElementById("root"))},38:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){}},[[103,1,2]]]);
//# sourceMappingURL=main.8e71e1a6.chunk.js.map